<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataTable Responsif dengan Fitur Lengkap</title>
    
    <!-- CSS DataTables & Ekstensi -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">

    <!-- Style tambahan untuk mempercantik tampilan -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            padding: 15px;
            background-color: #f4f4f9;
            font-size: 14px;
        }
        .container {
            width: 100%;
            max-width: 1200px; /* Batas lebar maksimum */
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow-x: hidden; /* Mencegah scroll horizontal pada container */
        }
        h1, h2 {
            text-align: center;
            color: #333;
            margin: 0;
        }
        h1 { font-size: 1.4em; }
        h2 { font-size: 1.1em; font-style: italic; font-weight: normal; color: #666; margin-bottom: 25px; }
        
        table.dataTable thead th {
            text-align: center;
            background-color: #e9ecef;
        }
        table.dataTable tfoot th {
            text-align: right;
            font-weight: bold;
        }
        /* Style untuk tombol export */
        .dt-buttons .btn-secondary {
            background-color: #007bff;
            color: white;
            border-radius: 4px;
            margin: 0 2px;
        }
        .dt-buttons .btn-secondary:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Tabel 1.1 Jumlah Perusahaan dan Banyaknya Pekerja menurut Skala Usaha dan Kode Industri, 2022</h1>
    <h2>Table 1.1 Number of Establishment by Investment Facility Status and Industrial Code, 2022</h2>
    
    <!-- Tambahkan class "responsive nowrap" pada tabel -->
    <table id="tabel-data" class="display responsive nowrap" style="width:100%">
        <thead>
            <tr>
                <th rowspan="2">Kode Industri</th>
                <th colspan="3">Jumlah Perusahaan</th>
                <th colspan="3">Jumlah Tenaga Kerja</th>
            </tr>
            <tr>
                <th>Industri Sedang</th>
                <th>Industri Besar</th>
                <th>Jumlah</th>
                <th>Industri Sedang</th>
                <th>Industri Besar</th>
                <th>Jumlah</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>10</td><td>1093</td><td>312</td><td>1405</td><td>33813</td><td>137230</td><td>171043</td></tr>
            <tr><td>11</td><td>101</td><td>84</td><td>185</td><td>4530</td><td>30807</td><td>35337</td></tr>
            <tr><td>12</td><td>11</td><td>5</td><td>16</td><td>298</td><td>4460</td><td>4758</td></tr>
            <tr><td>13</td><td>550</td><td>424</td><td>974</td><td>24571</td><td>211590</td><td>236161</td></tr>
            <tr><td>14</td><td>349</td><td>351</td><td>700</td><td>12962</td><td>352970</td><td>365932</td></tr>
            <tr><td>15</td><td>111</td><td>93</td><td>204</td><td>4267</td><td>162570</td><td>166837</td></tr>
            <tr><td>16</td><td>106</td><td>39</td><td>145</td><td>4024</td><td>13614</td><td>17638</td></tr>
            <tr><td>17</td><td>125</td><td>99</td><td>224</td><td>5906</td><td>35821</td><td>41727</td></tr>
            <tr><td>18</td><td>135</td><td>25</td><td>160</td><td>5211</td><td>8065</td><td>13276</td></tr>
            <tr><td>19</td><td>33</td><td>7</td><td>40</td><td>1587</td><td>4230</td><td>5817</td></tr>
            <tr><td>20</td><td>349</td><td>177</td><td>526</td><td>14380</td><td>49575</td><td>63955</td></tr>
            <tr><td>21</td><td>68</td><td>87</td><td>155</td><td>2559</td><td>24219</td><td>26778</td></tr>
            <tr><td>22</td><td>383</td><td>309</td><td>692</td><td>18156</td><td>95391</td><td>113547</td></tr>
            <tr><td>23</td><td>445</td><td>108</td><td>553</td><td>14895</td><td>36285</td><td>51180</td></tr>
            <tr><td>24</td><td>93</td><td>52</td><td>145</td><td>3906</td><td>18839</td><td>22745</td></tr>
            <tr><td>25</td><td>363</td><td>204</td><td>567</td><td>16097</td><td>57727</td><td>73824</td></tr>
            <tr><td>26</td><td>51</td><td>111</td><td>162</td><td>2628</td><td>61493</td><td>64121</td></tr>
            <tr><td>27</td><td>76</td><td>130</td><td>206</td><td>3889</td><td>62952</td><td>66841</td></tr>
            <tr><td>28</td><td>285</td><td>108</td><td>393</td><td>12392</td><td>30573</td><td>42965</td></tr>
            <tr><td>29</td><td>224</td><td>299</td><td>523</td><td>12383</td><td>148969</td><td>161352</td></tr>
            <tr><td>30</td><td>77</td><td>105</td><td>182</td><td>3356</td><td>49565</td><td>52921</td></tr>
            <tr><td>31</td><td>206</td><td>48</td><td>254</td><td>9629</td><td>13812</td><td>23441</td></tr>
            <tr><td>32</td><td>142</td><td>102</td><td>244</td><td>5567</td><td>62268</td><td>67835</td></tr>
            <tr><td>33</td><td>46</td><td>13</td><td>59</td><td>1724</td><td>2129</td><td>3853</td></tr>
        </tbody>
        <tfoot>
            <tr>
                <th>JAWA BARAT</th>
                <th>5422</th>
                <th>3292</th>
                <th>8714</th>
                <th>218730</th>
                <th>1675154</th>
                <th>1893884</th>
            </tr>
        </tfoot>
    </table>
</div>

<!-- Pustaka JavaScript yang Diperlukan -->
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<!-- DataTables Core -->
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<!-- DataTables Responsive Extension -->
<script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
<!-- Buttons Extension -->
<script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>

<!-- Skrip untuk inisialisasi DataTable -->
<script>
$(document).ready(function() {
    $('#tabel-data').DataTable( {
        // AKTIFKAN FITUR RESPONSIVE
        responsive: true,
        
        // Mengaktifkan tombol dan menentukan layout
        dom: 'lBfrtip',
        buttons: [
            { extend: 'copy', text: 'Salin' },
            { extend: 'csv', text: 'CSV' },
            { extend: 'excel', text: 'Excel', title: 'Data Industri Jawa Barat 2022' },
            { extend: 'pdf', text: 'PDF', title: 'Data Industri Jawa Barat 2022', orientation: 'landscape', pageSize: 'A4' },
            { extend: 'print', text: 'Cetak', title: 'Data Industri Jawa Barat 2022' }
        ],
        
        // Mengubah antarmuka DataTables ke Bahasa Indonesia
        language: {
            "url": "https://cdn.datatables.net/plug-ins/1.13.7/i18n/id.json"
        },

        // Opsi tambahan untuk footer agar tidak ikut sorting
        "footerCallback": function ( row, data, start, end, display ) {
            var api = this.api(), data;
 
            // Fungsi untuk memformat angka dengan pemisah ribuan
            var intVal = function ( i ) {
                return typeof i === 'string' ?
                    i.replace(/[\.,]/g, '')*1 :
                    typeof i === 'number' ?
                    i : 0;
            };
            
            // Memberikan style pada footer
            $(api.column(0).footer()).html('TOTAL');
            for(var i = 1; i <= 6; i++) {
                var total = api
                    .column( i )
                    .data()
                    .reduce( function (a, b) {
                        return intVal(a) + intVal(b);
                    }, 0 );
                
                $(api.column(i).footer()).html(new Intl.NumberFormat('id-ID').format(total));
            }
        }
    } );
} );
</script>

</body>
</html>
